{"remainingRequest":"/Users/bekzatabilkassymov/Desktop/uchetTZ/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bekzatabilkassymov/Desktop/uchetTZ/src/components/RegisterComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/bekzatabilkassymov/Desktop/uchetTZ/src/components/RegisterComponent.vue","mtime":1653597126415},{"path":"/Users/bekzatabilkassymov/Desktop/uchetTZ/node_modules/cache-loader/dist/cjs.js","mtime":1653468773671},{"path":"/Users/bekzatabilkassymov/Desktop/uchetTZ/node_modules/babel-loader/lib/index.js","mtime":1653468773891},{"path":"/Users/bekzatabilkassymov/Desktop/uchetTZ/node_modules/cache-loader/dist/cjs.js","mtime":1653468773671},{"path":"/Users/bekzatabilkassymov/Desktop/uchetTZ/node_modules/vue-loader/lib/index.js","mtime":1653468767606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RlcDogMSwKICAgICAgZW1haWw6ICIiLAogICAgICBuYW1lOiAiIiwKICAgICAgc3VybmFtZTogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgY29uZmlybVBhc3N3b3JkOiAiIiwKICAgICAgaXNBdXRob3JpemVkOiBmYWxzZSwKICAgICAgYXV0aFVzZXJEYXRhOiB7CiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBuZXh0U3RlcCgpIHsKICAgICAgaWYgKHRoaXMuc3RlcCA8IDIpCiAgICAgICAgdGhpcy5zdGVwKysKICAgIH0sCiAgICByZWdpc3RyYXRpb25TdGVwKCkgewogICAgICBpZiAodGhpcy5zdGVwID4gMSkKICAgICAgICB0aGlzLnN0ZXAtLQogICAgfSwKICAgIHJlZ2lzdGVyVXNlcigpIHsKICAgICAgY29uc3QgdXNlciA9IHsKICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgc3VybmFtZTogdGhpcy5zdXJuYW1lLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgIH0KICAgICAgaWYgKHRoaXMucGFzc3dvcmQgPT09IHRoaXMuY29uZmlybVBhc3N3b3JkKXsKICAgICAgICBpZiAodGhpcy5lbWFpbD09PSAiIiB8fCB0aGlzLnBhc3N3b3JkID09PSIiKXsKICAgICAgICAgIGFsZXJ0KCJQbGVhc2UgdHlwZSBhbGwgcmVxdWlyZWQgZmllbGRzISIpCiAgICAgICAgfWVsc2V7CiAgICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJzIikpewogICAgICAgICAgICBjb25zdCBhcnIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VycyIpKQogICAgICAgICAgICBhcnIucHVzaCh1c2VyKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJzIixhcnIpCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VycyIsSlNPTi5zdHJpbmdpZnkoYXJyKSkKICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJzIixKU09OLnN0cmluZ2lmeShbdXNlcl0pKQogICAgICAgICAgfQogICAgICAgICAgYWxlcnQoIlJlZ2lzdHJhdGlvbiBzdWNjZXNzLCBwbGVhc2Ugc2lnbiBpbiEiKQogICAgICAgICAgdGhpcy5lbWFpbCA9ICIiOwogICAgICAgICAgdGhpcy5uYW1lID0gIiI7CiAgICAgICAgICB0aGlzLnN1cm5hbWUgPSAiIjsKICAgICAgICAgIHRoaXMucGFzc3dvcmQgPSAiIjsKICAgICAgICAgIHRoaXMuY29uZmlybVBhc3N3b3JkID0gIiI7CiAgICAgICAgICB0aGlzLnN0ZXAgKz0xOwogICAgICAgIH0KICAgICAgfWVsc2V7CiAgICAgICAgYWxlcnQoIlBhc3N3b3JkcyBkbyBub3QgbWF0Y2ghIikKICAgICAgfQogICAgfSwKICAgIGxvZ2luVXNlcigpIHsKICAgICAgY29uc3QgdXNlciA9IHsuLi50aGlzLmF1dGhVc2VyRGF0YX0KICAgICAgbGV0IGlzQXV0aCA9IHRoaXMuaXNBdXRob3JpemVkCiAgICAgIGNvbnN0IHJlZ2lzdGVyZWRfdXNlcnMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcnMiKSA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJzIikpIDogW10KICAgICAgY29uc29sZS5sb2codXNlcikKICAgICAgaWYgKHVzZXIuZW1haWwgJiYgdXNlci5wYXNzd29yZCl7CiAgICAgICAgcmVnaXN0ZXJlZF91c2Vycy5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICBpZiAoaXRlbS5lbWFpbCA9PT0gdXNlci5lbWFpbCAmJiBpdGVtLnBhc3N3b3JkID09PSB1c2VyLnBhc3N3b3JkKXsKICAgICAgICAgICAgYWxlcnQoIllvdSdyZSB3ZWxjb21lISIpCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpc0F1dGhvcml6ZWQiLCB0cnVlKQogICAgICAgICAgICBpc0F1dGggPSB0cnVlOwogICAgICAgICAgICB0aGlzLiRlbWl0KCJjaGVja0EiKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgaWYgKCFpc0F1dGgpewogICAgICAgICAgYWxlcnQoIlVzZXIgZG9lc24ndCBleGlzdCIpCiAgICAgICAgfQogICAgICB9ZWxzZXsKICAgICAgICBhbGVydCgiUGxlYXNlIHR5cGUgYWxsIGZpZWxkcyEiKQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["RegisterComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RegisterComponent.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"row mt-4\">\n    <div class=\"col-6 mx-auto\">\n      <form @submit.prevent=\"registerUser\">\n        <transition name=\"slide-fade\">\n          <div v-show=\"step === 1\" class=\"step\">\n            <div class=\"form-group\">\n              <label for=\"email\">Email address:</label>\n              <input v-model=\"email\" type=\"email\" class=\"form-control\" id=\"email\" required>\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"name\">Name:</label>\n              <input v-model=\"name\" type=\"text\" class=\"form-control\" id=\"name\">\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"surname\">Surname:</label>\n              <input v-model=\"surname\" type=\"text\" class=\"form-control\" id=\"surname\">\n            </div>\n\n\n            <div class=\"form-group\">\n              <label for=\"password\">Password:</label>\n              <input v-model=\"password\" type=\"password\" class=\"form-control\" id=\"password\" required>\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"passwordConfirm\">Confirm password:</label>\n              <input v-model=\"confirmPassword\" type=\"password\" class=\"form-control\" id=\"passwordConfirm\" required>\n            </div>\n\n            <button type=\"submit\" class=\"btn btn-primary mr-2\">Sign up</button>\n            <button @click=\"nextStep\" type=\"button\" class=\"btn btn-success\">Already have an account</button>\n          </div>\n        </transition>\n      </form>\n    </div>\n\n\n    <div class=\"col-6 mx-auto\">\n      <form @submit.prevent=\"loginUser\" novalidate>\n        <transition name=\"slide-fade\">\n          <div v-show=\"step === 2\" class=\"step\">\n            <div class=\"form-group\">\n              <label>Email address:</label>\n              <input v-model=\"authUserData.email\" type=\"email\" class=\"form-control\" required>\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"password\">Password:</label>\n              <input v-model=\"authUserData.password\" type=\"password\" class=\"form-control\" required>\n            </div>\n\n            <button type=\"submit\" class=\"btn btn-success mr-3\">Log in</button>\n            <button @click=\"registrationStep\" type=\"button\" class=\"btn btn-primary\">Sign up</button>\n          </div>\n        </transition>\n      </form>\n    </div>\n\n\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      step: 1,\n      email: \"\",\n      name: \"\",\n      surname: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n      isAuthorized: false,\n      authUserData: {\n        email: \"\",\n        password: \"\"\n      }\n    }\n  },\n  methods: {\n    nextStep() {\n      if (this.step < 2)\n        this.step++\n    },\n    registrationStep() {\n      if (this.step > 1)\n        this.step--\n    },\n    registerUser() {\n      const user = {\n        email: this.email,\n        name: this.name,\n        surname: this.surname,\n        password: this.password\n      }\n      if (this.password === this.confirmPassword){\n        if (this.email=== \"\" || this.password ===\"\"){\n          alert(\"Please type all required fields!\")\n        }else{\n          if (localStorage.getItem(\"users\")){\n            const arr = JSON.parse(localStorage.getItem(\"users\"))\n            arr.push(user);\n            localStorage.setItem(\"users\",arr)\n            localStorage.setItem(\"users\",JSON.stringify(arr))\n          }else {\n            localStorage.setItem(\"users\",JSON.stringify([user]))\n          }\n          alert(\"Registration success, please sign in!\")\n          this.email = \"\";\n          this.name = \"\";\n          this.surname = \"\";\n          this.password = \"\";\n          this.confirmPassword = \"\";\n          this.step +=1;\n        }\n      }else{\n        alert(\"Passwords do not match!\")\n      }\n    },\n    loginUser() {\n      const user = {...this.authUserData}\n      let isAuth = this.isAuthorized\n      const registered_users = localStorage.getItem(\"users\") ? JSON.parse(localStorage.getItem(\"users\")) : []\n      console.log(user)\n      if (user.email && user.password){\n        registered_users.forEach((item) => {\n          if (item.email === user.email && item.password === user.password){\n            alert(\"You're welcome!\")\n            localStorage.setItem(\"isAuthorized\", true)\n            isAuth = true;\n            this.$emit(\"checkA\")\n          }\n        })\n        if (!isAuth){\n          alert(\"User doesn't exist\")\n        }\n      }else{\n        alert(\"Please type all fields!\")\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.slide-fade-enter-active {\n  transition: all 1s ease;\n}\n\n\n\n\n.slide-fade-enter{\n  transform: translateX(10px);\n  opacity: 0;\n}\n</style>"]}]}